### YamlMime:PowershellCmdlet
summary: |-
  Adds this computer to an existing federation server farm.
module: ADFS
notes: ""
inputs:
- name: <xref href="none" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Result object" data-throw-if-not-resolved="False" />
  description: ""
syntaxes:
- >-
  Add-AdfsFarmNode [-CertificateThumbprint <String>] [-OverwriteConfiguration] -PrimaryComputerName <String>

   [-PrimaryComputerPort <Int32>] -ServiceAccountCredential <PSCredential> [<CommonParameters>]
- >-
  Add-AdfsFarmNode [-CertificateThumbprint <String>] -ServiceAccountCredential <PSCredential>

   -SQLConnectionString <String> [<CommonParameters>]
examples:
- title: '-------------------------- EXAMPLE 1 --------------------------'
  code: |-
    C:\PS>$fscredential = Get-Credential
    C:\PS>Add-AdfsFarmNode -ServiceAccountCredential $fscredential -SQLConnectionString "Data Source=SQLHost;Integrated Security=True"
  description: |-
    Description

    -----------

    Adds the local server computer as a node in an existing federation server farm that uses a Microsoft SQL Server database installed on a computer called "SQLHost".
  summary: ""
- title: '-------------------------- EXAMPLE 2 --------------------------'
  code: |-
    C:\PS>$fscredential = Get-Credential
    C:\PS>Add-AdfsFarmNode -OverwriteConfiguration -PrimaryComputerName "PrimaryWIDHost" -PrimaryComputerPort 80 -ServiceAccountCredential $fscredential -CertificateThumbprint 8169c52b4ec6e77eb2ae17f028fe5da4e35c0bed
  description: |-
    Description

    -----------

    Overwrites an existing AD FS configuration database and adds the local server computer as a node in an existing federation server farm that uses Windows Internal Database (WID) and whose primary node is installed on a computer called "PrimaryWIDHost".

    Note that the PrimaryComputerPort is needed even if the default HTTP port of 80 is used and that the CertificateThumbprint parameter is only required if it is not already configured as a binding in IIS.
    Also when specifying a value for the CertificateThumbprint parameter, the value you use must specify the thumbprint of a certificate that is currently installed in the local machine My store, and the certificate must be the same certificate that is used as the SSL certificate on the primary node.
  summary: ""
parameters:
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: CertificateThumbprint
  description: |+
    Specifies the value of the certificate thumbprint of the certificate that should be used in the SSL binding of the Default Web Site in IIS.
    This value should match the thumbprint of a valid certificate in the Local Computer certificate store.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: OverwriteConfiguration
  description: |+
    This parameter must be used to remove an existing AD FS configuration database and overwrite it with a new database.

  defaultValue: "False"
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: PrimaryComputerName
  isRequired: true
  description: |+
    Specifies the name of the primary federation server in the farm that this computer will join.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: PrimaryComputerPort
  description: |+
    Specifies the value of the HTTP port that this computer uses to connect with the primary computer in order to synchronize configuration settings.
    Specify a value of 80 for this parameter, or specify an alternate value if the HTTP port on the primary computer is not 80.
    If this parameter is not specified, a default port value of 443 is assumed.

  defaultValue: "80"
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="PSCredential" data-throw-if-not-resolved="False" />
  name: ServiceAccountCredential
  isRequired: true
  description: |+
    Specifies the Active Directory account under which the AD FS service runs.
    All nodes in the farm must use the same service account.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: SQLConnectionString
  isRequired: true
  description: |+
    Specifies the SQL Server database that will store the AD FS configuration settings.
    If not specified, AD FS uses Windows Internal Database to store configuration settings

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: ADFS.Add-AdfsFarmNode
name: Add-AdfsFarmNode
description: |-
  The Add-AdfsFarmNode cmdlet adds this computer to an existing federation server farm.
metadata:
  external help file: Microsoft.FederationServices.Deployment.dll-Help.xml
  Module Name: ADFS
  online version: https://docs.microsoft.com/powershell/module/adfs/add-adfsfarmnode?view=windowsserver2012-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
