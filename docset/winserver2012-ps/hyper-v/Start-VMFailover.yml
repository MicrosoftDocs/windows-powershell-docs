### YamlMime:PowershellCmdlet
summary: |-
  Starts failover on a virtual machine.
module: Hyper-V
notes: ""
outputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: |-
    Default
- name: <xref href="Microsoft.Virtualization.Powershell.VirtualMachine" data-throw-if-not-resolved="False" />
  description: |-
    If **-PassThru** is specified.
syntaxes:
- >-
  Start-VMFailover [-VMName] <String[]> [-AsJob] [-ComputerName <String[]>] [-PassThru] [-Prepare] [-Confirm]

   [-WhatIf]
- Start-VMFailover [-VM] <VirtualMachine[]> [-AsJob] [-PassThru] [-AsTest] [-Confirm] [-WhatIf]
- Start-VMFailover [-VMRecoverySnapshot] <VMSnapshot> [-AsJob] [-PassThru] [-AsTest] [-Confirm] [-WhatIf]
- >-
  Start-VMFailover [-VMName] <String[]> [-AsJob] [-ComputerName <String[]>] [-PassThru] [-AsTest] [-Confirm]

   [-WhatIf]
- Start-VMFailover [-VM] <VirtualMachine[]> [-AsJob] [-PassThru] [-Prepare] [-Confirm] [-WhatIf]
- Start-VMFailover [-VMRecoverySnapshot] <VMSnapshot> [-AsJob] [-PassThru] [-Confirm] [-WhatIf]
examples:
- title: Example 1
  code: |-
    PS C:\>Get-VMSnapshot VM01 -Name Snapshot01 | Start-Failover
  description: |-
    This example starts failover of a virtual machine named VM01 with recovery point Snapshot01.

    Note: Recovery points are stored as snapshots.
    To get a list of all snapshots, use the Get-VMSnapshot cmdlet.
  summary: ""
- title: Example 2
  code: |-
    PS C:\>Start-VMFailover VM01 -AsTest
  description: |-
    This example starts a test failover of a virtual machine named VM01.
  summary: ""
- title: Example 3
  code: |-
    PS C:\>Get-VMSnapshot VM01 -Name Snapshot01 | Start-Failover -AsTest
  description: |-
    Starts a test failover of a virtual machine named VM01 with recovery point Snapshot01.
  summary: ""
- title: Example 4
  code: |-
    PS C:\>Start-VMFailover -Prepare -VMName VM01  -computername MyPrimary.contoso.com PS C:\>Start-VMFailover -VMName VM01 -computername MyReplica.contoso.com PS C:\>Set-VMReplication -Reverse -VMName VM01 -computername MyReplica.contoso.com PS C:\>Start-VM -VMName VM01 -computername MyReplica.contoso.com
  description: |-
    This example shows the cmdlets you use to perform a planned failover.
    The first command prepares for the planned failover of a primary virtual machine named VM01 by replicating any pending changes.
    The second command fails over the Replica virtual machine.
    The second command fails over the Replica virtual machine.
    The third command switches the Replica virtual machine to a primary virtual machine.
    The third command starts the virtual machine that has been switched from a Replica virtual machine to a primary virtual machine.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    Runs the command as a background job.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsTest
  isRequired: true
  description: |+
    Creates a test virtual machine using the chosen recovery point.
    You can use a test virtual machine to validate a Replica virtual machine.
    To stop a test failover, use the Stop-VMFailover cmdlet.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: ComputerName
  description: |+
    Specifies one or more Hyper-V hosts on which failover is to be started.
    NetBIOS names, IP addresses, and fully-qualified domain names are allowable.
    The default is the local computer - use "localhost" or a dot (".") to specify the local computer explicitly.

  defaultValue: .
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: PassThru
  description: |+
    Specifies that a virtual machine object is to be passed through to the pipeline representing the virtual machine on which failover is to be started.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Prepare
  description: |+
    Starts the planned failover on the primary virtual machine and replicates any pending changes.
    To complete the planned failover, use the Set-VMReplication and Start-VM cmdlets as shown in Example 4.

    Note: The primary virtual machine must be shut down to prepare it for failover.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="VirtualMachine" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: VM
  isRequired: true
  description: |+
    Specifies the virtual machine for which failover is to be started.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: VMName
  isRequired: true
  description: |+
    Specifies the name of the virtual machine for which failover is to be started.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="VMSnapshot" data-throw-if-not-resolved="False" />
  name: VMRecoverySnapshot
  isRequired: true
  description: |+
    Specifies the recovery snapshot to use during a failover.
    (This parameter is not required for a planned failover.)

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Hyper-V.Start-VMFailover
name: Start-VMFailover
description: |-
  The **Start-VMFailover** cmdlet can be used for the following tasks:

  Fail over a Replica virtual machine to a chosen recovery point.

  Start a planned failover on a primary virtual machine.

  Create a test virtual machine on a Replica virtual machine.
metadata:
  external help file: Hyper-V_Cmdlets.xml
  Module Name: Hyper-V
  online version: https://docs.microsoft.com/powershell/module/hyper-v/start-vmfailover?view=windowsserver2012-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
