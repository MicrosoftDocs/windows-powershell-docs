### YamlMime:PowershellCmdlet
summary: |-
  Creates an iSCSI virtual disk with the specified file path and size.
module: IscsiTarget
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Iscsi.Target.Commands.IscsiVirtualDisk" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Checkpoint-IscsiVirtualDisk
  href: ./Checkpoint-IscsiVirtualDisk.yml
- text: Convert-IscsiVirtualDisk
  href: ./Convert-IscsiVirtualDisk.yml
- text: Expand-IscsiVirtualDisk
  href: ./Expand-IscsiVirtualDisk.yml
- text: Get-IscsiVirtualDisk
  href: ./Get-IscsiVirtualDisk.yml
- text: Import-IscsiVirtualDisk
  href: ./Import-IscsiVirtualDisk.yml
- text: Remove-IscsiVirtualDisk
  href: ./Remove-IscsiVirtualDisk.yml
- text: Restore-IscsiVirtualDisk
  href: ./Restore-IscsiVirtualDisk.yml
- text: Set-IscsiVirtualDisk
  href: ./Set-IscsiVirtualDisk.yml
syntaxes:
- >-
  New-IscsiVirtualDisk [-Description <String>] [-Path] <String> [-Size] <UInt64> [-ComputerName <String>]

   [-Credential <PSCredential>] [<CommonParameters>]
- >-
  New-IscsiVirtualDisk [-Description <String>] -ParentPath <String> [-Path] <String> [-ComputerName <String>]

   [-Credential <PSCredential>] [<CommonParameters>]
examples:
- title: EXAMPLE 1
  code: |-
    PS C:\> New-IscsiVirtualDisk -Path "E:\temp\test.vhd" -Size 10GB
  description: |-
    This example creates a fixed VHD with 10GB in size.
  summary: ""
- title: EXAMPLE 2
  code: |-
    PS C:\> New-IscsiVirtualDisk -ParentPath "E:\temp\test.vhd" -Path "E:\temp\child\diff.vhd"
  description: |-
    This example creates a differencing VHD, with the parent path E:\temp\test.vhd and the differencing VHD path is E:\temp\child\diff.vhd.
  summary: ""
- title: EXAMPLE 3
  code: |-
    PS C:\> New-IscsiVirtualDisk -Path "E:\temp\test.vhd" -Size 10GB -ComputerName "iscsisvr"
  description: |-
    This example creates a fixed VHD with the size 10GB at E:\temp\test.vhd on the computer named iscsisvr.
  summary: ""
- title: EXAMPLE 4
  code: |-
    PS C:\>New-IscsiVirtualDisk -Path ramdisk:test -Size 20MB
  description: |-
    This example creates a VHD with the size 20MB.
    This VHD will not be saved, the VHD will be lost if the wintarget service is restarted or the system is restarted.
  summary: ""
parameters:
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ComputerName
  description: |+
    Specifies the computer name, or IP address, of the remote computer, if this cmdlet is run on a remote computer. 

    Specifies the cluster resource group network name, or cluster node name, if this cmdlet is run on a cluster configuration.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="PSCredential" data-throw-if-not-resolved="False" />
  name: Credential
  description: |+
    Specifies the credentials when connecting to a remote computer.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Description
  description: |+
    Specifies the description for the iSCSI virtual disk.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ParentPath
  isRequired: true
  description: |+
    Specifies the parent virtual disk path if the VHD is a differencing disk.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Path
  isRequired: true
  description: |+
    Specifies the path of the VHD file that is associated with the iSCSI virtual disk. 

    If the VHD file path does not exist, then a new VHD file will then be created. 

    If the VHD file path exists, then the server will return an error.
    Use the Import-IscsiVirtualDisk cmdlet to import existing VHDs.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: DevicePath
  parameterValueGroup: ""
- type: <xref href="UInt64" data-throw-if-not-resolved="False" />
  name: Size
  isRequired: true
  description: |+
    Specifies the size of the iSCSI virtual disk. 
    Note: This parameter takes a number and a unit as input, such as 10GB, 20MB, 1TB. 

    If this parameter is not provided, then a prompt for the input of this parameter with be displayed, as it is a required field.
    At that time, the value will need to be provided in Bytes; since no unit can be entered at the prompt.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
uid: IscsiTarget.New-IscsiVirtualDisk
name: New-IscsiVirtualDisk
description: |-
  The **New-IscsiVirtualDisk** cmdlet creates a new iSCSI Virtual Hard Disk (VHD) object with the specified file path and size.
  After the iSCSI VHD object has been created, the virtual disk can be assigned to an iSCSI target.
  Once a virtual disk has been assigned to a target, and an initiator connects to that target, the iSCSI initiator can then access the virtual disk after the initiator connects to the target.

  If the VHD file path does not exist, then a new VHD file will then be created. 

  If the VHD file path exists, then the server will return an error.
  Use the Import-IscsiVirtualDisk cmdlet to import existing VHDs.

  If an error is displayed during the creation of the virtual disk, please check the following conditions: 

   -- An absolute file path must be specified for the **Path** and **ParentPath** parameters. 

   -- The virtual disk file name must have a `.VHD` file extension.
  The iSCSI software target does not support the `.VHDX` file extension in this release. 

   -- The VHD file cannot be a network file, or be in a compressed, sparse, or transacted folder.
metadata:
  external help file: Microsoft.Iscsi.Target.Commands.dll-Help.xml
  Module Name: IscsiTarget
  online version: https://docs.microsoft.com/powershell/module/iscsitarget/new-iscsivirtualdisk?view=windowsserver2012-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
