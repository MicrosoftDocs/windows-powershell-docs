### YamlMime:PowershellCmdlet
summary: |-
  Creates a new virtual disk in the specified storage pool.
module: Storage
notes: ""
inputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#ROOT/Microsoft/Windows/Storage/MSFT_StoragePool" data-throw-if-not-resolved="False" />
  description: |-
    You can pipe an MSFT_StoragePool object to the InputObject parameter.
outputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#ROOT/Microsoft/Windows/Storage/MSFT_VirtualDisk" data-throw-if-not-resolved="False" />
  description: |-
    The New-VirtualDisk cmdlet returns an object that represents the newly created virtual disk.
links:
- text: Add-VirtualDiskToMaskingSet
  href: ./Add-VirtualDiskToMaskingSet.yml
- text: Connect-VirtualDisk
  href: ./Connect-VirtualDisk.yml
- text: Disconnect-VirtualDisk
  href: ./Disconnect-VirtualDisk.yml
- text: Get-StoragePool
  href: ./Get-StoragePool.yml
- text: Get-VirtualDisk
  href: ./Get-VirtualDisk.yml
- text: Hide-VirtualDisk
  href: ./Hide-VirtualDisk.yml
- text: New-MaskingSet
  href: ./New-MaskingSet.yml
- text: Remove-VirtualDisk
  href: ./Remove-VirtualDisk.yml
- text: Repair-VirtualDisk
  href: ./Repair-VirtualDisk.yml
- text: Resize-VirtualDisk
  href: ./Resize-VirtualDisk.yml
- text: Set-VirtualDisk
  href: ./Set-VirtualDisk.yml
- text: Show-VirtualDisk
  href: ./Show-VirtualDisk.yml
syntaxes:
- >-
  New-VirtualDisk [-StoragePoolFriendlyName] <String[]> [-AsJob] [-AutoNumberOfColumns]

   [-CimSession <CimSession[]>] [-Interleave <UInt64>] [-IsEnclosureAware <Boolean>] [-NumberOfColumns <UInt16>]

   [-NumberOfDataCopies <UInt16>] [-OtherUsageDescription <String>] [-PhysicalDiskRedundancy <UInt16>]

   [-PhysicalDisksToUse <CimInstance[]>] [-ProvisioningType <ProvisioningType>] [-ResiliencySettingName <String>]

   [-Size <UInt64>] [-ThrottleLimit <Int32>] [-Usage <Usage>] [-UseMaximumSize] -FriendlyName <String>
- >-
  New-VirtualDisk [-AsJob] [-AutoNumberOfColumns] [-CimSession <CimSession[]>] [-Interleave <UInt64>]

   [-IsEnclosureAware <Boolean>] [-NumberOfColumns <UInt16>] [-NumberOfDataCopies <UInt16>]

   [-OtherUsageDescription <String>] [-PhysicalDiskRedundancy <UInt16>] [-PhysicalDisksToUse <CimInstance[]>]

   [-ProvisioningType <ProvisioningType>] [-ResiliencySettingName <String>] [-Size <UInt64>]

   [-ThrottleLimit <Int32>] [-Usage <Usage>] [-UseMaximumSize] -FriendlyName <String>

   -InputObject <CimInstance[]>
- >-
  New-VirtualDisk [-AsJob] [-AutoNumberOfColumns] [-CimSession <CimSession[]>] [-Interleave <UInt64>]

   [-IsEnclosureAware <Boolean>] [-NumberOfColumns <UInt16>] [-NumberOfDataCopies <UInt16>]

   [-OtherUsageDescription <String>] [-PhysicalDiskRedundancy <UInt16>] [-PhysicalDisksToUse <CimInstance[]>]

   [-ProvisioningType <ProvisioningType>] [-ResiliencySettingName <String>] [-Size <UInt64>]

   [-ThrottleLimit <Int32>] [-Usage <Usage>] [-UseMaximumSize] -FriendlyName <String> -StoragePoolName <String[]>
- >-
  New-VirtualDisk [-AsJob] [-AutoNumberOfColumns] [-CimSession <CimSession[]>] [-Interleave <UInt64>]

   [-IsEnclosureAware <Boolean>] [-NumberOfColumns <UInt16>] [-NumberOfDataCopies <UInt16>]

   [-OtherUsageDescription <String>] [-PhysicalDiskRedundancy <UInt16>] [-PhysicalDisksToUse <CimInstance[]>]

   [-ProvisioningType <ProvisioningType>] [-ResiliencySettingName <String>] [-Size <UInt64>]

   [-ThrottleLimit <Int32>] [-Usage <Usage>] [-UseMaximumSize] -FriendlyName <String>

   -StoragePoolUniqueId <String[]>
examples:
- title: 'Example 1: Creating a 100 GB virtual disk using default settings'
  code: |-
    PS C:\>New-VirtualDisk -StoragePoolFriendlyName CompanyData -FriendlyName UserData -Size 100GB
  description: |-
    This example creates a virtual disk named UserData from the storage pool named CompanyData that is 100GB in size, using the storage pool default settings for unspecified parameters.
  summary: ""
- title: 'Example 2: Creating a thinly-provisioned mirror'
  code: |-
    PS C:\>New-VirtualDisk -StoragePoolFriendlyName CompanyData -FriendlyName DataWarehouse -ResiliencySettingName Mirror -Size 42TB -ProvisioningType Thin
  description: |-
    This example creates a virtual disk named DataWarehouse, which is 42TB in size, uses the Mirror resiliency setting, and is thinly provisioned.
  summary: ""
- title: 'Example 3: Creating a three-way mirror'
  code: |-
    PS C:\>New-VirtualDisk -StoragePoolFriendlyName CompanyData -FriendlyName BusinessCritical -ResiliencySettingName Mirror -NumberOfDataCopies 3 -Size 42TB -ProvisioningType Thin
  description: |-
    This example creates a 42 TB thinly-provisioned virtual disk on the Storage Spaces subsystem, using the Mirror resiliency setting with three data copies.
    This creates a three-way mirror that is capable of tolerating two disk failures).
  summary: ""
- title: 'Example 4: Creating a two-column mirror'
  code: |-
    PS C:\>New-VirtualDisk -StoragePoolFriendlyName CompanyData -FriendlyName BusinessCritical -ResiliencySettingName Mirror - -Size 42TB -ProvisioningType Thin -NumberOfColumns 2
  description: |-
    This example creates a thinly-provisioned virtual disk on the Storage Spaces subsystem that uses two columns, regardless of how many physical disks are in the storage pool above the two-disk minimum for a two-way mirror.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    ps_cimcommon_asjob

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AutoNumberOfColumns
  description: |+
    Specifies that the number of columns used by the virtual disk should be automatically determined.
    Columns represent the number of underlying physical disks across which one stripe of data for a virtual disk is written.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a New-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227967 or Get-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227966 cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: FriendlyName
  isRequired: true
  description: |+
    Specifies the friendly name for the virtual disk.
    The friendly name is not required to be unique.

  defaultValue: None
  position: Named
  aliases: VirtualDiskFriendlyName
  parameterValueGroup: ""
- type: <xref href="CimInstance" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: InputObject
  isRequired: true
  description: |+
    Accepts a StoragePool object as input, specifying in which storage pool to create the virtual disk.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt64" data-throw-if-not-resolved="False" />
  name: Interleave
  description: |+
    Specifies the interleave value to use during the creation of a virtual disk.
    The interleave value represents the number of bytes that is written to a single physical disk.
    Thus Interleave * NumberOfColumns will yield the size of one stripe of user data.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: IsEnclosureAware
  description: |+
    Specifies that the enclosure supports SCSI Enclosure Services (SES), which is utilized for providing things like Slot location for a physical disk, as well as to manage LEDs on the disks for visual identification.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: NumberOfColumns
  description: |+
    Specifies the number of columns to use when allocating the virtual disk.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: NumberOfDataCopies
  description: |+
    Specifies the number of data copies to create.
    Specify 2 to create a two-way mirror, or 3 to specify a three-way mirror.

  defaultValue: "1"
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: OtherUsageDescription
  description: |+
    Specifies an OtherUsageDescription string for the virtual disk.
    You can use the **OtherUsageDescription** parameter only if you set the **Usage** parameter to Other or do not include the **Usage** parameter.

  defaultValue: None
  position: Named
  aliases: VirtualDiskOtherUsageDescription
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: PhysicalDiskRedundancy
  description: |+
    Specifies the physical disk redundancy value to use during the creation of a virtual disk.
    This value represents how many failed physical disks the virtual disk can tolerate without data loss.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimInstance" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: PhysicalDisksToUse
  description: |+
    Specifies an array of one or more PhysicalDisk objects.
    The PhysicalDisk objects represent the specific physical disks on which to create this virtual disk.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="ProvisioningType" data-throw-if-not-resolved="False" />
  name: ProvisioningType
  description: |+
    Specifies the type of provisioning.
    The acceptable values for this parameter are:**Fixed**, or **Thin**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ResiliencySettingName
  description: |+
    Specifies the resiliency setting (storage layout) to use for the virtual disk.
    Acceptable values vary by storage subsystem.

    Allowed values for the Storage Spaces subsystem are: **Simple**, **Mirror**, or **Parity**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt64" data-throw-if-not-resolved="False" />
  name: Size
  description: |+
    Specifies the size of the virtual disk to create.
    The default unit is Bytes; to specify a different unit, enter the size followed by one of the following unit values, with no spaces: Bytes, KB, MB, GB, or TB.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: StoragePoolFriendlyName
  isRequired: true
  description: |+
    Specifies the friendly name of the storage pool in which to create the virtual disk.
    Enter a friendly name, or use wildcard characters to enter a name pattern.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: StoragePoolName
  isRequired: true
  description: |+
    Specifies the name of the storage pool in which to create the virtual disk.
    Enter the name of the storage pool provided by the Storage Management Provider, or use wildcard characters to enter a name pattern.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: StoragePoolUniqueId
  isRequired: true
  description: |+
    Specifies the ID of the storage pool in which to create the virtual disk Enter an ID or use wildcard characters to enter a pattern.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: StoragePoolId
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShell® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Usage" data-throw-if-not-resolved="False" />
  name: Usage
  description: |+
    Specifies the intended usage of the virtual disk.
    You can specify one of the predefined descriptions, or use the default value (Other) and instead use the OtherUsageDescription parameter to specify a custom value.

  defaultValue: Other
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: UseMaximumSize
  description: |+
    Creates a virtual disk with the maximum size possible given the available storage pool space and specified parameters.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Storage.New-VirtualDisk
name: New-VirtualDisk
description: |-
  The **New-VirtualDisk** cmdlet creates a new virtual disk in the specified storage pool.
metadata:
  external help file: Storage2_Cmdlets.xml
  Module Name: Storage
  online version: https://docs.microsoft.com/powershell/module/storage/new-virtualdisk?view=windowsserver2012-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
