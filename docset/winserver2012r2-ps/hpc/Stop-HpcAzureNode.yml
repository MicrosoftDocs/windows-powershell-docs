### YamlMime:PowershellCmdlet
summary: |-
  Stops Azure nodes.
module: HPC
notes: |-
  * Azure nodes that are started automatically by an availability policy that is configured in the node template cannot be stopped by this cmdlet.
  * If all of the nodes in an Azure deployment from a node template are stopped, the deployment is deleted.
  * If a problem exists with your Internet connection, the process of stopping the nodes can fail.
  * You must be a cluster administrator to run this cmdlet successfully.
  * This cmdlet was introduced in HPC Pack 2012 R2. It is not supported in previous versions.
inputs:
- name: <xref href="HpcNode" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  description: ""
outputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Remove-HpcAzureNode
  href: ./Remove-HpcAzureNode.md
- text: Start-HpcAzureNode
  href: ./Start-HpcAzureNode.yml
- text: Start-HpcNodeSet
  href: ./Start-HpcNodeSet.yml
- text: Stop-HpcNodeSet
  href: ./Stop-HpcNodeSet.yml
syntaxes:
- >-
  Stop-HpcAzureNode [-Force <Boolean>] [-Async <Boolean>] [-Comment <String>] [-Name] <String[]>

    [-Scheduler <String[]>] [<CommonParameters>]
- >-
  Stop-HpcAzureNode [-Force <Boolean>] [-Async <Boolean>] [-Comment <String>] -Node <HpcNode[]>

    [-Scheduler <String[]>] [<CommonParameters>]
examples:
- title: 'Example 1: Stop an Azure node by name'
  code: |-
    PS C:\>Stop-HpcAzureNode -Name "AzureCN-0117" -Async $True
  description: |-
    This command stops the Azure node named AzureCN-0117 and returns without waiting for the node to stop.
  summary: ""
- title: 'Example 2: Get Azure nodes by state and stop them'
  code: |-
    PS C:\>Get-HpcNode -GroupName "AzureNodes" -State Offline | Stop-HpcAzureNode
  description: |-
    This command gets an **HpcNode** object for the Azure nodes that are in the Offline state, and then stops those Azure nodes.
  summary: ""
parameters:
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: Async
  description: |+
    Indicates whether the cmdlet should return immediately without waiting for the nodes to stop.

    A nonzero or $True value specifies that the cmdlet should return immediately without waiting for the nodes to stop.
    A 0 or $False value specifies that the cmdlet should wait for the nodes to stop before returning.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Comment
  description: |+
    Specifies the reason that the nodes were stopped.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Indicates whether the online nodes in the specified nodes should be forced offline as part of the process to stop the nodes, or should just be drained as part of that process.

    A $True or nonzero value indicates that the online nodes should be forced offline as part of the process to stop the nodes.
    A $False or 0 value indicates that the online nodes should not be forced offline as part of that process, but should just be drained instead.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Name
  isRequired: true
  description: |+
    Specifies an array of names, separated by commas, of the nodes that you want to stop.
    You cannot specify both the *Name* and *Node* parameters.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="HpcNode" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Node
  isRequired: true
  description: |+
    Specifies an array of **HpcNode** objects, separated by commas, for the nodes that you want to stop.
    You cannot specify both the *Node* and *Name* parameters.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Scheduler
  description: |+
    Specifies the host name or IP address of the head node for the cluster that includes the Azure nodes that you want to stop.
    The value must be a valid computer name or IP address.
    If you do not specify the *Scheduler* parameter, this cmdlet uses the scheduler on the head node that the CCP_SCHEDULER environment variable specifies.
    To set this environment variable, run the following cmdlet:

    `Set-Content Env:CCP_SCHEDULER \<head_node_name\>`

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: HPC.Stop-HpcAzureNode
name: Stop-HpcAzureNode
description: |-
  The **Stop-HpcAzureNode** cmdlet stops one or more Azure nodes.
  When you stop the nodes, you remove the corresponding role instances in Azure and reset the state of the nodes to Not Deployed.
metadata:
  external help file: CCPPSH.dll-Help.xml
  Module Name: HPC
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/hpc/stop-hpcazurenode?view=windowsserver2012r2-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Stop-HpcAzureNode
