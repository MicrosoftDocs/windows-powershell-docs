### YamlMime:PowershellCmdlet
summary: |-
  Creates a policy entry for an IP address in a virtual network.
module: NetWNV
notes: ""
links:
- text: Get-NetVirtualizationLookupRecord
  href: ./Get-NetVirtualizationLookupRecord.yml
- text: Remove-NetVirtualizationLookupRecord
  href: ./Remove-NetVirtualizationLookupRecord.yml
- text: Set-NetVirtualizationLookupRecord
  href: ./Set-NetVirtualizationLookupRecord.yml
syntaxes:
- >-
  New-NetVirtualizationLookupRecord -CustomerAddress <String> -VirtualSubnetID <UInt32> -MACAddress <String>

   -ProviderAddress <String> [-CustomerID <String>] [-Context <String>] -Rule <RuleType> [-VMName <String>]

   [-UseVmMACAddress <Boolean>] [-Type <Type>] [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob]

   [<CommonParameters>]
examples:
- title: 'Example 1: Create a policy entry'
  code: |-
    PS C:\> New-NetVirtualizationLookupRecord -CustomerAddress "10.0.0.5" -MACAddress "101010101105" -ProviderAddress "192.168.1.101" -Rule "TranslationMethodEncap" -VirtualSubnetID "6000" -VMName "BlueS1-VM1"
  description: |-
    This command creates a policy entry for a Customer Address 10.0.0.5.
    The command specifies the required values: a MAC address for the VM, the physical Provider Address, a rule type (TranslationMethodEncap, which means the entry uses NVGRE), and a virtual subnet ID.
    The command also specifies a name for the VM.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    ps_cimcommon_asjob

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a New-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227967 or Get-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227966 cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Context
  description: |+
    Specifies a comment regarding the policy entry.
    Administrators can use this comment for any purpose.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: CustomerAddress
  isRequired: true
  description: |+
    Specifies the IP address for a VM.
    You can use can use either an IPv4 or IPv6 address.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: CustomerID
  description: |+
    Specifies an ID for a policy entry or VM.
    Administrators can use this setting for any purpose.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: MACAddress
  isRequired: true
  description: |+
    Specifies a MAC address that corresponds to the Customer Address.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ProviderAddress
  isRequired: true
  description: |+
    Specifies an IP address, either IPv4 or IPv6, for a physical address that corresponds to the Customer Address.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="RuleType" data-throw-if-not-resolved="False" />
  name: Rule
  isRequired: true
  description: |+
    Specifies which type of virtualization mechanism that the policy entry uses.
    The acceptable values for this parameter are:

    - TranslationMethodNat.
    IP address rewrite.
    - TranslationMethodEncap.
    Network Virtualization Generic Routing Encapsulation (NVGRE).
    - TranslationMethodNone.
    None.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: TranslationMethodNat, TranslationMethodEncap, TranslationMethodNone
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShellÂ® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Type" data-throw-if-not-resolved="False" />
  name: Type
  description: |+
    Specifies a type.
    The type determines the address mapping for a record.
    The acceptable values for this parameter are:

    - Static. 
    The Customer Address (CA) specified in this lookup record is the address assigned to the corresponding virtual machine, which is implicitly specified by the MAC address.
    An administrator or vmmblue_1 creates this lookup record. 
    - Dynamic. 
    The Customer Address specified in this lookup record is the address assigned to the corresponding virtual machine, which is implicitly specified by the MAC address.
    For example, the Hyper-V Network Virtualization software creates this record for virtual machines that obtain their IP addresses from a DHCP server. 
    - L2Only. 
    The Customer Address specified in this lookup record should be set to 0.0.0.0 for IPv4, or :: for IPv6.
    The corresponding virtual machine, implicitly specified by the MAC address, learns the CA dynamically. 
    - GatewayWildcard. 
    The CA address specified in this lookup record should be set to 0.0.0.0 for IPv4, or :: for IPv6.
    The corresponding virtual machine, implicitly specified by the MAC address, is a Hyper-V Network Virtualization gateway.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: Static, Dynamic, GatewayWildcard, L2Only
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: UseVmMACAddress
  description: |+
    Indicates whether this entry uses its defined MAC address instead of physical MAC address.
    Virtual networking can use different MAC addresses for different VMs to balance traffic among multiple CPU cores.

    A value of $True is valid only if the **Rule** parameter has a value of TranslationMethodNat.
    The default value for this setting is $False.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: VirtualSubnetID
  isRequired: true
  description: |+
    Specifies an ID for the virtual subnet that the Customer address belongs to.
    The acceptable values for this parameter are:integers from 4096 through 16777214.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: VMName
  description: |+
    Specifies a name for the VM for this policy entry.
    Administrators can use this name for any purpose.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: NetWNV.New-NetVirtualizationLookupRecord
name: New-NetVirtualizationLookupRecord
description: |-
  The **New-NetVirtualizationLookupRecord** cmdlet creates a lookup record policy entry for an IP address that belongs to a hv_win8_1 virtual network.
  Network Virtualization allows more than one virtual network to exist on the same physical network.
  Computers can exchange network traffic with a virtual machine (VM) by using a Customer Address within the virtual network.
  Network Virtualization manages the Provider Addresses that are the physical network addresses.
  This cmdlet creates a record that maps a Customer Address to a Provider Address.
  For more information, see Network Virtualization technical detailshttp://technet.microsoft.com/library/jj134174.aspx (http://technet.microsoft.com/library/jj134174.aspx) on TechNet.

  To create a policy entry, you must specify a Customer Address, a VM media access control (MAC) address, a Provider Address, a rule type, and a virtual subnet ID.
  You can also specify a context, a customer ID, and a VM name, as well as whether to use a VM virtual MAC address.
metadata:
  external help file: MSFT_NetVirtualizationLookupRecordSettingData.cdxml-help.xml
  Module Name: NetWNV
  ms.date: 10/30/2017
  online version: https://docs.microsoft.com/powershell/module/netwnv/new-netvirtualizationlookuprecord?view=windowsserver2012r2-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: New-NetVirtualizationLookupRecord
