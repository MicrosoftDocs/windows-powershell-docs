### YamlMime:PowershellCmdlet
summary: |-
  Modifies BGP configuration.
module: RemoteAccess
notes: ""
outputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#BgpPeerConfig" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Add-BgpPeer
  href: ./Add-BgpPeer.yml
- text: Get-BgpPeer
  href: ./Get-BgpPeer.yml
- text: Remove-BgpPeer
  href: ./Remove-BgpPeer.yml
- text: Start-BgpPeer
  href: ./Start-BgpPeer.yml
- text: Stop-BgpPeer
  href: ./Stop-BgpPeer.yml
syntaxes:
- >-
  Set-BgpPeer [-Name] <String> [-LocalIPAddress <IPAddress>] [-PeerIPAddress <IPAddress>] [-LocalASN <UInt32>]

   [-PeerASN <UInt32>] [-OperationMode <OperationMode>] [-PeeringMode <PeeringMode>] [-HoldTimeSec <UInt16>]

   [-IdleHoldTimeSec <UInt16>] [-MaxAllowedPrefix <UInt32>] [-RoutingDomain <String>] [-PassThru] [-Force]

   [-ClearPrefixLimit] [-Weight <UInt16>] [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob]

   [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Change the peering mode to Automatic'
  code: |-
    PS C:\> Set-BgpPeer -Name "TenantSite17" -Force -PeeringMode Automatic -PassThru
    PeerName            LocalIPAddress      PeerIPAddress       PeerASN             OperationMode       ConnectivityStatus
    --------            --------------      -------------       -------             -------------       ------------------
    TenantSite17        192.168.1.10        10.1.1.10           64512               Server              Connecting
  description: |-
    This command changes the peering mode of the peer named TenantSite17 to Automatic.
    The command includes the **PassThru** parameter, so it passes a **BgpPeerConfig** object to the console.
    Because the command includes the **Force** parameter, it does not prompt you for confirmation.
  summary: ""
- title: 'Example 2: Modify settings for a peer'
  code: |-
    PS C:\> Set-BgpPeer -Name "TenantSite17" -OperationMode Mixed -PeeringMode Automatic -PassThru
    Confirm
    BGP peering session is active for peer RedTenantSite1. Do you want to apply settings and restart peering?
    [Y] Yes  [N] No  [S] Suspend  [?] Help (default is "Y"): y

    PeerName            LocalIPAddress      PeerIPAddress       PeerASN             OperationMode       ConnectivityStatus
    --------            --------------      -------------       -------             -------------       ------------------
    TenantSite17        192.168.1.10        10.1.1.10           64512               Mixed               Connecting
  description: |-
    This command modifies the operation mode and the peering mode of the peer named TenantSite17.
    The command includes the **PassThru** parameter, so it passes a **BgpPeerConfig** object to the console.
    Because the command does not include the **Force** parameter, it prompts you for confirmation.
  summary: ""
- title: 'Example 3: Modify the ASN of a peer'
  code: |-
    PS C:\> Set-BgpPeer -Name "Tenant17" -PassThru -PeerASN 64515 -RoutingDomain "Rd002" -PassThru 
    Confirm
    BGP peering session is active for Tenant17 for routing domain Rd002. Do you want to apply settings and restart
    peering?
    [Y] Yes  [N] No  [S] Suspend  [?] Help (default is "Y"):

    PeerName            LocalIPAddress      PeerIPAddress       PeerASN             OperationMode       ConnectivityStatus
    --------            --------------      -------------       -------             -------------       ------------------
    Tenant17            10.1.1.10           192.168.1.2         64515               Mixed               Connecting
  description: |-
    This command modifies the ASN of the peer named TenantSite17 in the routing domain Rd002.
    The command includes the **PassThru** parameter, so it passes a **BgpPeerConfig** object to the console.
    Because the command does not include the **Force** parameter, it prompts you for confirmation.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    ps_cimcommon_asjob

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a New-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227967 or Get-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227966 cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: ClearPrefixLimit
  description: |+
    Indicates that the cmdlet removes the limit on the number of network prefixes learned from the peer.
    Specify a limit by using the **MaxAllowedPrefix** parameter.
    You cannot specify both the **MaxAllowedPrefix** parameter and the **ClearPrefixLimit** parameter.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Forces the command to run without asking for user confirmation.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: HoldTimeSec
  description: |+
    Specifies the hold time, in seconds.
    If this computer does not receive any messages from the peer within this time, the session expires.

  defaultValue: "180"
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: IdleHoldTimeSec
  description: |+
    Specifies the time in seconds for which the BGP Peer stays in an idle state after an unsuccessful peer connection attempt.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: LocalASN
  description: |+
    Specifies the ASN for the local router.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="IPAddress" data-throw-if-not-resolved="False" />
  name: LocalIPAddress
  description: |+
    Specifies the IP address that the local router uses for the peer connection.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: MaxAllowedPrefix
  description: |+
    Specifies the maximum number of network prefixes that this router learns from its peer.
    To remove this limit, specify the **ClearPrefixLimit** parameter.
    You cannot specify both the **MaxAllowedPrefix** parameter and the **ClearPrefixLimit** parameter.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Name
  isRequired: true
  description: |+
    Specifies a name.
    The cmdlet modifies settings for the named peer.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: PeerId, PeerName
  parameterValueGroup: ""
- type: <xref href="OperationMode" data-throw-if-not-resolved="False" />
  name: OperationMode
  description: |+
    Specifies the BGP router mode of operation.
    The acceptable values for this parameter are:

    - Mixed.
    The peer both initiates and accepts requests. 
    - Server.
    The peer only accepts requests.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Mixed, Server
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: PassThru
  description: |+
    Returns an object representing the item with which you are working.
    By default, this cmdlet does not generate any output.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: PeerASN
  description: |+
    Specifies the ASN for the peer.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="PeeringMode" data-throw-if-not-resolved="False" />
  name: PeeringMode
  description: |+
    Specifies the peering mode for the peer.
    The acceptable values for this parameter are:

    - Automatic.
    Starts peering attempts automatically when added. 
    - Manual.
    Starts peering attempts after you start the session by using the Start-BgpPeer cmdlet.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Automatic, Manual
- type: <xref href="IPAddress" data-throw-if-not-resolved="False" />
  name: PeerIPAddress
  description: |+
    Specifies the IP address of the peer.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: RoutingDomain
  description: |+
    Specifies the name of the routing domain as a string.
    The name is a unique, for the multitenant gateway, user-defined alphanumeric string.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: RoutingDomainName
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShell® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: Weight
  description: |+
    Specifies the preference, as an integer, assigned to routes received from this peer.
    Higher values have higher priority.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: RemoteAccess.Set-BgpPeer
name: Set-BgpPeer
description: |-
  The **Set-BgpPeer** cmdlet modifies peer configuration for Border Gateway Protocol (BGP) routers.
  Specify a peer to modify by using its name.
  You can modify the following configuration settings: 

  - Autonomous system number (ASN) for the local and peer router instances 
  - IP address of the local and peer router instances 
  - Maximum number of network prefixes that the local router instance can learn from this peer, or you can remove limit 
  - Preference assigned to routes received from this peer 
  - Operation mode and peering mode 
  - Hold time, in seconds
metadata:
  external help file: PS_BgpPeer_v1.0.cdxml-help.xml
  Module Name: RemoteAccess
  ms.date: 12/05/2017
  online version: https://docs.microsoft.com/powershell/module/remoteaccess/set-bgppeer?view=windowsserver2012r2-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Set-BgpPeer
