### YamlMime:PowershellCmdlet
summary: |-
  Formats one or more existing volumes or a new volume on an existing partition.
module: Storage
notes: ""
inputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#ROOT/Microsoft/Windows/Storage/MSFT_Volume" data-throw-if-not-resolved="False" />
  description: |-
    You can use the pipeline operator to pass an MSFT_Volume object to the InputObject parameter.
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#ROOT/Microsoft/Windows/Storage/MSFT_Partition" data-throw-if-not-resolved="False" />
  description: |-
    You can use the pipeline operator to pass an MSFT_Partition object to the Partition parameter.
outputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#ROOT/Microsoft/Windows/Storage/MSFT_Volume" data-throw-if-not-resolved="False" />
  description: |-
    This cmdlet returns an object that represents the newly formatted volume.
links:
- text: Get-Disk
  href: ./Get-Disk.yml
- text: Initialize-Disk
  href: ./Initialize-Disk.yml
- text: New-Partition
  href: ./New-Partition.yml
- text: Get-Partition
  href: ./Get-Partition.yml
- text: Get-Volume
  href: ./Get-Volume.yml
- text: Optimize-Volume
  href: ./Optimize-Volume.yml
- text: Repair-Volume
  href: ./Repair-Volume.yml
- text: Set-Volume
  href: ./Set-Volume.yml
syntaxes:
- >-
  Format-Volume [-DriveLetter] <Char[]> [-FileSystem <String>] [-NewFileSystemLabel <String>]

   [-AllocationUnitSize <UInt32>] [-Full] [-Force] [-Compress] [-ShortFileNameSupport <Boolean>]

   [-SetIntegrityStreams <Boolean>] [-UseLargeFRS] [-DisableHeatGathering] [-CimSession <CimSession[]>]

   [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Format-Volume -ObjectId <String[]> [-FileSystem <String>] [-NewFileSystemLabel <String>]

   [-AllocationUnitSize <UInt32>] [-Full] [-Force] [-Compress] [-ShortFileNameSupport <Boolean>]

   [-SetIntegrityStreams <Boolean>] [-UseLargeFRS] [-DisableHeatGathering] [-CimSession <CimSession[]>]

   [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Format-Volume -Path <String[]> [-FileSystem <String>] [-NewFileSystemLabel <String>]

   [-AllocationUnitSize <UInt32>] [-Full] [-Force] [-Compress] [-ShortFileNameSupport <Boolean>]

   [-SetIntegrityStreams <Boolean>] [-UseLargeFRS] [-DisableHeatGathering] [-CimSession <CimSession[]>]

   [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Format-Volume -FileSystemLabel <String[]> [-FileSystem <String>] [-NewFileSystemLabel <String>]

   [-AllocationUnitSize <UInt32>] [-Full] [-Force] [-Compress] [-ShortFileNameSupport <Boolean>]

   [-SetIntegrityStreams <Boolean>] [-UseLargeFRS] [-DisableHeatGathering] [-CimSession <CimSession[]>]

   [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Format-Volume [-Partition <CimInstance>] [-FileSystem <String>] [-NewFileSystemLabel <String>]

   [-AllocationUnitSize <UInt32>] [-Full] [-Force] [-Compress] [-ShortFileNameSupport <Boolean>]

   [-SetIntegrityStreams <Boolean>] [-UseLargeFRS] [-DisableHeatGathering] [-CimSession <CimSession[]>]

   [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Format-Volume -InputObject <CimInstance[]> [-FileSystem <String>] [-NewFileSystemLabel <String>]

   [-AllocationUnitSize <UInt32>] [-Full] [-Force] [-Compress] [-ShortFileNameSupport <Boolean>]

   [-SetIntegrityStreams <Boolean>] [-UseLargeFRS] [-DisableHeatGathering] [-CimSession <CimSession[]>]

   [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Quick format'
  code: |-
    PS C:\>Format-Volume -DriveLetter D
  description: |-
    This example performs a format of the D volume.
  summary: ""
- title: 'Example 2: Full format using FAT32'
  code: |-
    PS C:\>Format-Volume -DriveLetter D -FileSystem FAT32 -Full -Force
  description: |-
    This example performs a full format of the D volume using the FAT32 file system.
  summary: ""
parameters:
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: AllocationUnitSize
  description: |+
    Specifies the allocation unit size to use when formatting the volume.

  defaultValue: None
  position: Named
  aliases: ClusterSize
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    ps_cimcommon_asjob

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a New-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227967 or Get-CimSessionhttp://go.microsoft.com/fwlink/p/?LinkId=227966 cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Compress
  description: |+
    Enables compression on all files and folders created on the specified NTFS volume.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: DisableHeatGathering
  description: |+
    Indicates that the cmdlet does not gather file activity on the specified tiered volume.
    You can override file placement based on the desired storage tier.
    This parameter is only valid for tiered volumes.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Char" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: DriveLetter
  isRequired: true
  description: |+
    Specifies the drive letter of the volume to format.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: FileSystem
  description: |+
    Specifies the file system with which to format the volume.
    The acceptable values for this parameter are:NTFS, ReFS, exFAT, FAT32, and FAT.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: FAT, FAT32, exFAT, NTFS, ReFS
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: FileSystemLabel
  isRequired: true
  description: |+
    Specifies the label to use for the volume.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Specifies the override switch.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Full
  description: |+
    Performs a full format.
    A full format writes to every sector of the disk, takes much longer to perform than the default (quick) format, and is not recommended on storage that is thinly provisioned.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimInstance" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: InputObject
  isRequired: true
  description: |+
    Specifies one or more existing Volume objects to format.
    Enter one or more Volume CIM objects, which is output by the Get-Volume cmdlet.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: NewFileSystemLabel
  description: |+
    Specifies a new label to use for the volume.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: ObjectId
  isRequired: true
  description: |+
    Specifies the ID of the volume to format.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: Id
  parameterValueGroup: ""
- type: <xref href="CimInstance" data-throw-if-not-resolved="False" />
  name: Partition
  description: |+
    Specifies the partition object on which to create the new volume.
    Enter a Partition CIM object, which is exposed by the Get-Partition and New-Partition cmdlets.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Path
  isRequired: true
  description: |+
    Specifies the path of the volume to format.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: SetIntegrityStreams
  description: |+
    Enables integrity streams on the volume to be formatted.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: ShortFileNameSupport
  description: |+
    Specifies that support for short file names should be enabled on this volume.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShellÂ® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: UseLargeFRS
  description: |+
    Specifies that large File Record Segment (FRS) should be used.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: Storage.Format-Volume
name: Format-Volume
description: |-
  The **Format-Volume** cmdlet formats one or more existing volumes, or a new volume on an existing partition.
  This cmdlet returns the object representing the volume that was just formatted, with all properties updated to reflect the format operation.

  To create a new volume, use this cmdlet in conjunction with the Initialize-Disk and New-Partition cmdlets.
metadata:
  external help file: Volume.cdxml-help.xml
  Module Name: Storage
  ms.date: 10/29/2017
  online version: https://docs.microsoft.com/powershell/module/storage/format-volume?view=windowsserver2012r2-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Format-Volume
