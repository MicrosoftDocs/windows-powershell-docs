### YamlMime:PowershellCmdlet
summary: |-
  Collects resource utilization data for a virtual machine or resource pool.
module: Hyper-V
notes: ""
inputs:
- name: <xref href="Microsoft.HyperV.PowerShell.VirtualMachine" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  description: ""
- name: <xref href="Microsoft.HyperV.PowerShell.VMResourcePoolType" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Measure-VM
  href: ./Measure-VM.yml
- text: Measure-VMResourcePool
  href: ./Measure-VMResourcePool.yml
- text: Disable-VMResourceMetering
  href: ./Disable-VMResourceMetering.yml
syntaxes:
- >-
  Enable-VMResourceMetering [-CimSession <CimSession[]>] [-ComputerName <String[]>]

   [-Credential <PSCredential[]>] [-VMName] <String[]> [<CommonParameters>]
- >-
  Enable-VMResourceMetering [-CimSession <CimSession[]>] [-ComputerName <String[]>]

   [-Credential <PSCredential[]>] [-ResourcePoolName] <String> [[-ResourcePoolType] <VMResourcePoolType>]

   [<CommonParameters>]
- Enable-VMResourceMetering [-VM] <VirtualMachine[]> [<CommonParameters>]
examples:
- title: Example 1
  code: |-
    PS C:\> Enable-VMResourceMetering -VMName TestVM
  description: |-
    This example starts collecting resource utilization data on a virtual machine named TestVM.
  summary: ""
- title: Example 2
  code: |-
    PS C:\> Get-VM TestVM | Enable-VMResourceMetering
    PS C:\> Get-VM TestVM | Format-List Name,ResourceMeteringEnabled
  description: |-
    This example starts collecting resource utilization data on a resource pool named TestResourcePool.
    (You can determine whether resource metering is enabled for a resource pool by querying its ResourceMeteringEnabled property.)
  summary: ""
- title: Example 3
  code: |-
    PS C:\> Enable-VMResourceMetering -ResourcePoolName TestResourcePool -ResourcePoolType Memory
    PS C:\> Get-VMResourcePool -Name TestResourcePool -ResourcePoolType Memory | Format-List Name,ResourceMeteringEnabled
  description: |-
    This example uses two commands that show resource metering being enabled and then obtain the data.
    The first command starts collecting resource utilization data for a memory resource pool named TestResourcePool.
    (You can determine whether resource metering is enabled for a resource pool by querying its ResourceMeteringEnabled property.) The second command retrieves the data in and formats it as a list.
  summary: ""
- title: Example 4
  code: |-
    PS C:\> Enable-VMResourceMetering -Name TestResourcePool -ResourcePoolType @("Processor","VHD","Ethernet","Memory")
  description: |-
    This example begins collecting resource utilization data on multiple resource pools with the name TestResourcePool.
  summary: ""
parameters:
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a [New-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227967) or [Get-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227966) cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: ComputerName
  description: |+
    Specifies the virtual machine host or hosts on which resource utilization data collection is to be enabled.
    NetBIOS names, IP addresses, and fully qualified domain names are allowable.
    The default is the local computer.
    Use localhost or a dot (.) to specify the local computer explicitly.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="PSCredential" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Credential
  description: |+
    Specifies one or more user accounts that have permission to perform this action.
    The default is the current user.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ResourcePoolName
  isRequired: true
  description: |+
    Specifies the friendly name of the resource pool for which you want to collect resource utilization data.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: Name
  parameterValueGroup: ""
- type: <xref href="VMResourcePoolType" data-throw-if-not-resolved="False" />
  name: ResourcePoolType
  description: |+
    Specifies the resource type of the resource pool for which you want to collect resource utilization data.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: Ethernet, Memory, Processor, VHD
- type: <xref href="VirtualMachine" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: VM
  isRequired: true
  description: |+
    Specifies the virtual machine for which you want to collect resource utilization data.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: VMName
  isRequired: true
  description: |+
    Specifies the friendly name of the virtual machine for which you want to collect resource utilization data.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
uid: Hyper-V.Enable-VMResourceMetering
name: Enable-VMResourceMetering
description: |-
  The **Enable-VMResourceMetering** cmdlet starts collecting resource utilization data for a virtual machine or resource pool.

  You can use the Measure-VM or Measure-VMResourcePool cmdlet to obtain this data.

  If resource metering is enabled but no **NetworkAdapterAcls** are configured, Hyper-V configures them to measure total network traffic.
  To measure network traffic through an IP range, configure the **NetworkAdapterAcls** for the IP range before calling this cmdlet.
  (See Add-VMNetworkAdapterAcl for more information.)
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: Microsoft.HyperV.PowerShell.Cmdlets.dll-Help.xml
  Module Name: Hyper-V
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/hyper-v/enable-vmresourcemetering?view=windowsserver2016-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Enable-VMResourceMetering
