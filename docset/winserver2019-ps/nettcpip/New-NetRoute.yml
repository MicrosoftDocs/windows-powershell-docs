### YamlMime:PowershellCmdlet
summary: |-
  Creates a route in the IP routing table.
module: NetTCPIP
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#root\StandardCimv2\MSFT_NetRoute" data-throw-if-not-resolved="False" />
  description: |-
    The `Microsoft.Management.Infrastructure.CimInstance` object is a wrapper class that displays Windows Management Instrumentation (WMI) objects.
    The path after the pound sign (`#`) provides the namespace and class name for the underlying WMI object.
links:
- text: Find-NetRoute
  href: ./Find-NetRoute.yml
- text: Get-NetRoute
  href: ./Get-NetRoute.yml
- text: Remove-NetRoute
  href: ./Remove-NetRoute.yml
- text: Set-NetRoute
  href: ./Set-NetRoute.yml
- text: Set-NetIPInterface
  href: ./Set-NetIPInterface.yml
syntaxes:
- >-
  New-NetRoute [-DestinationPrefix] <String> -InterfaceAlias <String> [-AddressFamily <AddressFamily>]

   [-NextHop <String>] [-PolicyStore <String>] [-Publish <Publish>] [-RouteMetric <UInt16>]

   [-Protocol <Protocol>] [-ValidLifetime <TimeSpan>] [-PreferredLifetime <TimeSpan>]

   [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  New-NetRoute [-DestinationPrefix] <String> [-AddressFamily <AddressFamily>] [-NextHop <String>]

   [-PolicyStore <String>] [-Publish <Publish>] [-RouteMetric <UInt16>] [-Protocol <Protocol>]

   [-ValidLifetime <TimeSpan>] [-PreferredLifetime <TimeSpan>] -InterfaceIndex <UInt32>

   [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Add an IP route to the routing table'
  code: |-
    PS C:\>New-NetRoute -DestinationPrefix "10.0.0.0/24" -InterfaceIndex 12 -NextHop 192.168.0.1
    PS C:\>Get-NetRoute | Format-List -Property *
  description: |-
    This example adds a routing table entry, and then displays the properties of all the entries in the routing table.

    The first command creates a route for the destination prefix 10.0.0.0/24 for the interface that has the index of 12.
    The command specifies 192.168.0.1 as the next hop.

    The second command uses the Get-NetRoute cmdlet to get all the routes for the computer, and then passes them to the Format-List cmdlet by using the pipeline operator.
    The **Format-List** cmdlet can display all the properties of an object.
    For more information, type `Get-Help Format-List`.
  summary: ""
parameters:
- type: <xref href="AddressFamily" data-throw-if-not-resolved="False" />
  name: AddressFamily
  description: |+
    Specifies the IP address family.
    The cmdlet uses the family that you specify for the IP route. 
    The acceptable values for this parameter are:

    - IPv4
    - IPv6

    If you do not specify this parameter, the cmdlet selects a value based on the other input that you provide.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: IPv4, IPv6
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    Runs the cmdlet as a background job. Use this parameter to run commands that take a long time to complete.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a [New-CimSession](https://docs.microsoft.com/powershell/module/cimcmdlets/New-CimSession) or [Get-CimSession](https://docs.microsoft.com/powershell/module/cimcmdlets/Get-CimSession) cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: DestinationPrefix
  isRequired: true
  description: |+
    Specifies a destination prefix of an IP route.
    A destination prefix consists of an IP address prefix and a prefix length, separated by a slash (/).
    A value of 0.0.0.0/0 for IPv4 or ::/0 for IPv6 indicates that the value of the *NextHop* parameter is a default gateway.
    The prefix length of the local host must match the prefix specified in this parameter, with all remaining address fields set to zero.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: InterfaceAlias
  isRequired: true
  description: |+
    Specifies the alias of a network interface.
    The cmdlet adds a route for the interface that has the alias that you specify.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ifAlias
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: InterfaceIndex
  isRequired: true
  description: |+
    Specifies the index of a network interface.
    The cmdlet adds a route for the interface located at the index that you specify.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ifIndex
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: NextHop
  description: |+
    Specifies the next hop for the IP route.
    The cmdlet assigns the next hop that you specify to the IP route.
    A value of 0.0.0.0 for IPv4 or :: for IPv6 indicates that the route is on the local subnet.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: PolicyStore
  description: |+
    Specifies the **PolicyStore** value.
    The cmdlet assigns the **PolicyStore** value that you specify to the IP route.
    The acceptable values for this parameter are:

    - ActiveStore. Current routing information, used by the OS.
    When a computer reboots, information in this store is lost.
    - PersistentStore. Cannot be used. Routing information in this store preserved across reboots.
    When a computer starts, it copies the saved settings from this store to the ActiveStore. 

    By default, a route is saved in both stores. Use this parameter only when you need to create a route in just the ActiveStore.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="TimeSpan" data-throw-if-not-resolved="False" />
  name: PreferredLifetime
  description: |+
    Specifies a preferred lifetime, as a **TimeSpan** object, of an IP route.
    The cmdlet assigns the lifetime that you specify to the IP route.
    To obtain a **TimeSpan** object, use the New-TimeSpan cmdlet.
    For more information, type `Get-Help New-TimeSpan`.
    The default value for a lifetime is infinite.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Protocol" data-throw-if-not-resolved="False" />
  name: Protocol
  description: |+
    Specifies the type of routing protocol.
    The cmdlet assigns the protocol that you specify to the IP route.
    The acceptable values for this parameter are:

    - Bbn
    - Bgp
    - Dhcp
    - Dvmrp
    - Egp
    - Eigrp
    - EsIs
    - Ggp
    - Hello
    - Icmp
    - Idpr
    - Igrp
    - IsIs
    - Local
    - NetMgmt
    - Ospf
    - Rip
    - Rpl
    - Other

    The default value is NetMgmt.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: Other, Local, NetMgmt, Icmp, Egp, Ggp, Hello, Rip, IsIs, EsIs, Igrp, Bbn, Ospf, Bgp, Idpr, Eigrp, Dvmrp, Rpl, Dhcp
- type: <xref href="Publish" data-throw-if-not-resolved="False" />
  name: Publish
  description: |+
    Specifies the publish setting of an IP route.
    The cmdlet assigns the publish setting that you specify to the IP route.
    The acceptable values for this parameter are:

    - No.
    Do not publish or advertise IP route information in router advertisements. 
    - Yes.
    Publish and advertise IP route information with an infinite valid lifetime in router advertisements. 
    - Age.
    Publish and advertise IP route information with a finite valid lifetime in router advertisements.
    Specify a valid lifetime by using the *ValidLifetime* parameter. 

    The default value is No.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: No, Age, Yes
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: RouteMetric
  description: |+
    Specifies an integer route metric for an IP route.
    The cmdlet assigns the metric that you specify to the IP route.
    The default value is 256.
    To choose among multiple routes, the computer adds this value.
    The computer selects the route with the lowest combined value.
    To modify the interface metric, use the Set-NetIPInterface cmdlet.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShellÂ® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="TimeSpan" data-throw-if-not-resolved="False" />
  name: ValidLifetime
  description: |+
    Specifies a valid lifetime, as a **TimeSpan** object, for an IP route.
    The cmdlet assigns the lifetime setting that you specify to the IP route.
    To obtain a **TimeSpan** object, use the New-TimeSpan cmdlet.
    The default value is infinite.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: NetTCPIP.New-NetRoute
name: New-NetRoute
description: |-
  The **New-NetRoute** cmdlet creates an IP route in the IP routing table.
  Specify the destination prefix, and specify an interface by using the interface alias or the interface index.

  IP routing is the process of forwarding a packet based on the destination IP address.
  Routing occurs at TCP/IP hosts and at IP routers.
  The sending host or router determines where to forward the packet.
  To determine where to forward a packet, the host or router consults a routing table that is stored in memory.
  When TCP/IP starts, it creates entries in the routing table.
  You can add entries either manually or automatically.

  For more information about routing, see Chapter 5 - [IP Routing](https://technet.microsoft.com/library/bb727001.aspx) in the TechNet library.
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: MSFT_NetRoute.cdxml-help.xml
  Module Name: NetTCPIP
  ms.date: 05/30/2018
  online version: https://docs.microsoft.com/powershell/module/nettcpip/new-netroute?view=windowsserver2019-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: New-NetRoute
