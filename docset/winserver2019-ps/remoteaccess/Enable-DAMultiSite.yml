### YamlMime:PowershellCmdlet
summary: |-
  Enables and configures a multi-site deployment, and adds the first entry point.
module: RemoteAccess
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#DAMultiSite" data-throw-if-not-resolved="False" />
  description: |-
    The `Microsoft.Management.Infrastructure.CimInstance` object is a wrapper class that displays Windows Management Instrumentation (WMI) objects.
    The path after the pound sign (`#`) provides the namespace and class name for the underlying WMI object.

    The DAMultisite object contains the entire multi-site deployment configuration as follows: 

     -- Multi-site deployment name. 

     -- Multi-site entry points, where each entry point has a list of associated servers. 

     -- Global load balancing FQDN, if defined. 

     -- Support for remote clients to manually select the entry point to which they connect.
links:
- text: Add-DAEntryPoint
  href: ./Add-DAEntryPoint.yml
- text: Disable-DAMultiSite
  href: ./Disable-DAMultiSite.yml
- text: Get-DAMultiSite
  href: ./Get-DAMultiSite.yml
- text: Set-DAMultiSite
  href: ./Set-DAMultiSite.yml
syntaxes:
- >-
  Enable-DAMultiSite [-ComputerName <String>] [-EntryPointName] <String> [-GslbFqdn <String>]

   [-ManualEntryPointSelectionAllowed <String>] [-Name <String>] [-GslbIP <IPAddress>] [-Force] [-PassThru]

   [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: EXAMPLE 1
  code: |-
    PS C:\>Enable-DAMultiSite -EntryPointName "Entry Point 1" -PassThru -Force

    EnterpriseName                   : Enterprise
    GslbFqdn                         :
    ManualEntryPointSelectionAllowed : Enabled
    DAEntryPoints                    : Entry Point 1
  description: |-
    This example enables DirectAccess (DA) Multi-site on the local DA server while using default parameters and naming the first entry point Entry Point 1.
    As can be seen from the output, the cmdlet chose a default EnterpriseName Enterprise and enabled the Manual Entry Point Selection by the Windows Server® 2012 user.
  summary: ""
- title: EXAMPLE 2
  code: |-
    PS C:\>Enable-DAMultiSite -EntryPointName "Entry Point 1" -ComputerName "da1" -PassThru

    EnterpriseName                   : Enterprise 
    GslbFqdn                         : 
    ManualEntryPointSelectionAllowed : Enabled 
    DAEntryPoints                    : Entry Point 1
  description: |-
    This example enables DA Multi-site on the remote DA server 'DA1' while using default parameters and naming the first entry point Entry Point 1.
    As can be seen from the output, the cmdlet chose a default EnterpriseName Enterprise and enabled Manual Entry Point Selection by the Windows Server 2012 user.
  summary: ""
- title: EXAMPLE 3
  code: |-
    PS C:\>Enable-DAMultiSite "Entry Point 1" -GslbFqdn "directaccessGlobalSite.contoso.com" -EnterpriseName "Company Enterprise" -GslbIP "137.2.0.1" -PassThru -Force

    EnterpriseName                   : Company Enterprise 
    GslbFqdn                         : directaccessGlobalSite.company.com 
    ManualEntryPointSelectionAllowed : Enabled 
    DAEntryPoints                    : Entry Point 1
  description: |-
    This example enables DA Multi-site on the local computer while naming the Multi-site deployment Company Enterprise and determining the FQDN of a third-party load balancer directaccessGlobalSite.contoso.com.
    Using load balancer will also require entering the GslbIP for the first entry point 137.2.0.1. 

    As can be seen from the output, the cmdlet enabled Manual Entry Point Selection by the Windows Server 2012 user.
  summary: ""
- title: EXAMPLE 4
  code: |-
    PS C:\>Enable-DAMultiSite -EntryPointName "Entry Point 1" -ManualSiteSelectionAllowed Disabled -Name "Company Enterprise" -PassThru -Force

    EnterpriseName                   : Company Enterprise 
    GslbFqdn                         : 
    ManualEntryPointSelectionAllowed : Disabled 
    DAEntryPoints                    : Entry Point 1
  description: |-
    This example enables DA Multi-site on the local computer while naming the Multi-site deployment Company Enterprise and disabled the user from manually select entry points when using the Windows Server 2012 network connectivity assistant.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    Runs the cmdlet as a background job. Use this parameter to run commands that take a long time to complete.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a [New-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227967) or [Get-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227966) cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ComputerName
  description: |+
    Specifies the IPv4 or IPv6 address, or host name, of a server or server cluster in the multi-site deployment.

  defaultValue: None
  position: Named
  aliases: Cn
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: EntryPointName
  isRequired: true
  description: |+
    Specifies the name of the first entry point in the multi-site deployment.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Forces the command to run without asking for user confirmation.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: GslbFqdn
  description: |+
    Specifies the FQDN of a third-party global load balancer.
    Global load balancing is used to direct Remote Access clients to the nearest entry point.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="IPAddress" data-throw-if-not-resolved="False" />
  name: GslbIP
  description: |+
    Specifies the IPv4 or IPv6 dedicated IP address (DIP) of the server, or the virtual IP address (VIP) of the server cluster, to be used for global load balancing.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ManualEntryPointSelectionAllowed
  description: |+
    Allow clients running firstref_client_7 or Windows® 8 to manually select the entry point to which they connect.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Enabled, Disabled
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Name
  description: |+
    Specifies the name used to identify the multi-site deployment.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: EnterpriseName
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: PassThru
  description: |+
    Returns an object representing the item with which you are working.
    By default, this cmdlet does not generate any output.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShell® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: RemoteAccess.Enable-DAMultiSite
name: Enable-DAMultiSite
description: |-
  The **Enable-DAMultiSite** cmdlet enables and configures a multi-site deployment.
  This cmdlet configures both global multi-site settings and entry point-specific settings.

  Global settings include: 

   -- Multi-site deployment name. 

   -- A fully qualified domain name (FQDN) for global load balancing.
  This setting is optional. 

   -- Support for remote clients to manually select the entry point to which they connect.

  Entry point-specific settings include: 

   -- Entry point name. 

   -- A global load balancing IP address for the entry point.
  This setting is optional.

  A prerequisite check is performed for multi-site deployment requirements.
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: PS_DAMultiSite_v1.0.0.cdxml-help.xml
  Module Name: RemoteAccess
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/remoteaccess/enable-damultisite?view=windowsserver2019-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Enable-DAMultiSite
