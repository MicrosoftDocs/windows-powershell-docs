### YamlMime:PowershellCmdlet
summary: |-
  Enables storage maintenance mode on a device.
module: Storage
notes: |-
  * You can run this cmdlet only for fault domains that host resilient virtual disks, which include Mirror and Parity Space.
  * When used in Failover Cluster, cmdlets from the Storage module operate on cluster level (all servers in the cluster).
inputs:
- name: <xref href="MSFT_StorageFaultDomain" data-throw-if-not-resolved="False" />
  description: |-
    You can pipe a fault domain object, **PhysicalDisk**, **Enclosure**, or **SSU** to this cmdlet.
links:
- text: Disable-StorageMaintenanceMode
  href: ./Disable-StorageMaintenanceMode.yml
- text: Get-PhysicalDisk
  href: ./Get-PhysicalDisk.yml
- text: Get-StorageEnclosure
  href: ./Get-StorageEnclosure.yml
syntaxes:
- >-
  Enable-StorageMaintenanceMode -InputObject <CimInstance> [-IgnoreDetachedVirtualDisks]

   [-ValidateVirtualDisksHealthy <Boolean>] [-Model <String>] [-Manufacturer <String>] [-CimSession <CimSession>]

   [-AsJob] [<CommonParameters>]
examples:
- title: 'Example 1: Enable maintenance mode on a physical disk'
  code: |-
    PS C:\>Get-PhysicalDisk -FriendlyName "Disk22" | Enable-StorageMaintenanceMode
  description: |-
    This command gets a physical disk by using the Get-PhysicalDisk cmdlet, and then passes that object to the current cmdlet.
    The command enables storage maintenance mode on the disk named Disk22.
  summary: ""
- title: 'Example 2: Enable maintenance mode on an enclosure'
  code: |-
    PS C:\>Get-StorageEnclosure -FriendlyName "Enclosure17" | Enable-StorageMaintenanceMode
  description: |-
    This command gets a storage enclosure disk by using the Get-StorageEnclosure cmdlet, and then passes that object to the current cmdlet.
    The command enables storage maintenance mode on the enclosure named Enclosure17.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    Runs the cmdlet as a background job. Use this parameter to run commands that take a long time to complete.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" />
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a [New-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227967) or [Get-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227966) cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: IgnoreDetachedVirtualDisks
  description: |+
    Indicates that this cmdlet ignores detached virtual disks when it performs the criticality check for last data-copy and other health metrics.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimInstance" data-throw-if-not-resolved="False" />
  name: InputObject
  isRequired: true
  description: |+
    Specifies the input object that is used in a pipeline command.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Manufacturer
  description: |+
    Specifies the manufacturer of a device.
    This cmdlet matches manufacturer information of physical disk devices, and places those devices in maintenance mode.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Model
  description: |+
    Specifies the model of a physical disk device that this cmdlet places in maintenance mode.
    If multiple devices fit a model string, this cmdlet places those devices in maintenance mode.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: ValidateVirtualDisksHealthy
  description: |+
    Indicates whether this cmdlet validates that all virtual disks in the fault domain to be placed in maintenance mode are healthy before it proceeds.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
uid: Storage.Enable-StorageMaintenanceMode
name: Enable-StorageMaintenanceMode
description: |-
  The **Enable-StorageMaintenanceMode** cmdlet enables storage maintenance mode on a **PhysicalDisk** device.

  You can use this cmdlet on storage fault domains, which include **PhysicalDisk**, **Enclosure**, and **SSU**, that are part of a Storage Spaces pool or virtual disk.
  While a device is in maintenance mode, no input/output operations flow to that device.
  Instead, if other fault domains are available and configured, other fault domains serve input/output commands.
  If enabling storage maintenance mode takes the last copy of data offline for a virtual disk, this cmdlet does not enable maintenance mode.
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: StorageScripts-help.xml
  Module Name: Storage
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/storage/enable-storagemaintenancemode?view=windowsserver2019-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Enable-StorageMaintenanceMode
