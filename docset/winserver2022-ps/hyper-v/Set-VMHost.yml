### YamlMime:PowershellCmdlet
summary: |-
  Configures a Hyper-V host.
module: Hyper-V
notes: ""
outputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: |-
    Default
- name: <xref href="Microsoft.HyperV.PowerShell.VMHost" data-throw-if-not-resolved="False" />
  description: |-
    If **-PassThru** is specified.
syntaxes:
- >-
  Set-VMHost [[-ComputerName] <String[]>] [[-Credential] <PSCredential[]>] [-MaximumStorageMigrations <UInt32>]

   [-MaximumVirtualMachineMigrations <UInt32>]

   [-VirtualMachineMigrationAuthenticationType <MigrationAuthenticationType>]

   [-UseAnyNetworkForMigration <Boolean>] [-VirtualMachineMigrationPerformanceOption <VMMigrationPerformance>]

   [-ResourceMeteringSaveInterval <TimeSpan>] [-VirtualHardDiskPath <String>] [-VirtualMachinePath <String>]

   [-MacAddressMaximum <String>] [-MacAddressMinimum <String>] [-FibreChannelWwnn <String>]

   [-FibreChannelWwpnMaximum <String>] [-FibreChannelWwpnMinimum <String>] [-NumaSpanningEnabled <Boolean>]

   [-EnableEnhancedSessionMode <Boolean>] [-Passthru] [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Set-VMHost [-CimSession] <CimSession[]> [-MaximumStorageMigrations <UInt32>]

   [-MaximumVirtualMachineMigrations <UInt32>]

   [-VirtualMachineMigrationAuthenticationType <MigrationAuthenticationType>]

   [-UseAnyNetworkForMigration <Boolean>] [-VirtualMachineMigrationPerformanceOption <VMMigrationPerformance>]

   [-ResourceMeteringSaveInterval <TimeSpan>] [-VirtualHardDiskPath <String>] [-VirtualMachinePath <String>]

   [-MacAddressMaximum <String>] [-MacAddressMinimum <String>] [-FibreChannelWwnn <String>]

   [-FibreChannelWwpnMaximum <String>] [-FibreChannelWwpnMinimum <String>] [-NumaSpanningEnabled <Boolean>]

   [-EnableEnhancedSessionMode <Boolean>] [-Passthru] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: Example 1
  code: |-
    PS C:\> Set-VMHost -MaximumVirtualMachineMigrations 10 -MaximumStorageMigrations 10
  description: |-
    This example configures the local Hyper-V host to allow 10 simultaneous live migrations and storage migrations.
  summary: ""
- title: Example 2
  code: |-
    PS C:\> Set-VMHost -MacAddressMinimum 00155D020600 -MacAddressMaximum 00155D0206FF
  description: |-
    This example configures a range of MAC addresses range for the local Hyper-V host.
  summary: ""
- title: Example 3
  code: |-
    PS C:\> Set-VMHost -UseAnyNetworkForMigration $true
  description: |-
    This example enables the use of any network for incoming live migrations on the local Hyper-V host.
  summary: ""
- title: Example 4
  code: |-
    PS C:\> Set-VMHost -VirtualHardDiskPath "C:\Hyper-V\Virtual Hard Disks" -VirtualMachinePath "C:\Hyper-V"
  description: |-
    This example specifies new default locations for virtual hard disks and virtual machines on the local Hyper-V host. In this case:

    - Virtual machines are stored in "C:\Hyper-V\Virtual Machines" (not "C:\Hyper-V")
    - Virtual hard disks are stored in "C:\Hyper-V\Virtual Hard Disks"
  summary: ""
- title: Example 5
  code: |-
    PS C:\> Set-VMHost -FibreChannelWwnn C003FF0000FFFF00 -FibreChannelWwpnMinimum C003FF661D200000 -FibreChannelWwpnMaximum C003FF661D200000
  description: |-
    This example configures Fibre Channel host settings on the local Hyper-V host.
  summary: ""
- title: Example 6
  code: |-
    PS C:\> Set-VMHost -NumaSpanningEnabled $false
  description: |-
    This example disables NUMA spanning on the local Hyper-V host.
  summary: ""
- title: Example 7
  code: |-
    PS C:\> Set-VMHost -ResourceMeteringSaveInterval 01:30:00
  description: |-
    This example configures the local Hyper-V host to save data that tracks resource consumption every hour and a half.
  summary: ""
- title: Example 8
  code: |-
    PS C:\> Set-VMHost -VirtualMachineMigrationAuthenticationType Kerberos
  description: |-
    The example configures the local Hyper-V host to use Kerberos to authenticate incoming live migrations.
  summary: ""
parameters:
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  isRequired: true
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a [New-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227967) or [Get-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227966) cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  pipelineInput: true
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: ComputerName
  description: |+
    Specifies one or more Hyper-V hosts on which this cmdlet operates.
    NetBIOS names, IP addresses, and fully qualified domain names are allowable.
    The default is the local computer.
    Use localhost or a dot (.) to specify the local computer explicitly.

  defaultValue: None
  position: "0"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="PSCredential" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Credential
  description: |+
    Specifies one or more user accounts that have permission to perform this action.
    The default is the current user.

  defaultValue: None
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: EnableEnhancedSessionMode
  description: |+
    Indicates whether users can use enhanced mode when they connect to virtual machines on this server by using Virtual Machine Connection.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: FibreChannelWwnn
  description: |+
    Specifies the default  value of the World Wide Node Name  on the Hyper-V host.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: FibreChannelWwpnMaximum
  description: |+
    Specifies the maximum value that can be used to generate World Wide Port Names on the Hyper-V host.
    Use with the **FibreChannelWwpnMinimum** parameter to establish a range of WWPNs that the specified Hyper-V host can assign to virtual Fibre Channel adapters.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: FibreChannelWwpnMinimum
  description: |+
    Specifies the minimum value that can be used to generate the World Wide Port Names on the Hyper-V host.
    Use with the **FibreChannelWwpnMaximum** parameter to establish a range of WWPNs that the specified Hyper-V host can assign to virtual Fibre Channel adapters.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: MacAddressMaximum
  description: |+
    Specifies the maximum MAC address using a valid hexadecimal value.
    Use with the **MacAddressMinimum** parameter to establish a range of MAC addresses that the specified Hyper-V host can assign to virtual machines configured to receive dynamic MAC addresses.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: MacAddressMinimum
  description: |+
    Specifies the minimum MAC address using a valid hexadecimal value.
    Use with the **MacAddressMaximum** parameter to establish a range of MAC addresses that the specified Hyper-V host can assign to virtual machines configured to receive dynamic MAC addresses.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: MaximumStorageMigrations
  description: |+
    Specifies the maximum number of storage migrations that can be performed at the same time on the Hyper-V host.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: MaximumVirtualMachineMigrations
  description: |+
    Specifies the maximum number of live migrations that can be performed at the same time on the Hyper-V host.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: NumaSpanningEnabled
  description: |+
    Specifies whether virtual machines on the Hyper-V host can use resources from more than one NUMA node.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Passthru
  description: |+
    Specifies that a **Microsoft.HyperV.PowerShell.Host** is to be passed through to the pipeline representing the Hyper-V host to be configured.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="TimeSpan" data-throw-if-not-resolved="False" />
  name: ResourceMeteringSaveInterval
  description: |+
    Specifies how often the Hyper-V host saves the data that tracks resource usage.
    The range is a minimum of 1 hour to a maximum of 24 hours.
    Time within that range can be specified using a format of hh:mm:ss, where hh indicates hours, mm indicates minutes, and ss indicates seconds.
    You also can use a Timespan object to specify the interval.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: UseAnyNetworkForMigration
  description: |+
    Specifies how networks are selected for incoming live migration traffic.
    If set to $True, any available network on the host can be used for this traffic.
    If set to $False, incoming live migration traffic is transmitted only on the networks specified in the **MigrationNetworks** property of the host.
    The **Get-VMMigrationNetwork** cmdlet returns the list of networks that can be used for migration traffic.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: VirtualHardDiskPath
  description: |+
    Specifies the default folder to store virtual hard disks on the Hyper-V host. This is not a functional setting. The Hyper-V Manager snap-in and Windows Admin Center query it to offer you a default path, but the Hyper-V API (for example `CreateFixedVirtualHardDisk`) and `New-VHD` don't use it.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="MigrationAuthenticationType" data-throw-if-not-resolved="False" />
  name: VirtualMachineMigrationAuthenticationType
  description: |+
    Specifies the type of authentication to be used for live migrations.
    The acceptable values for this parameter are: Kerberos and CredSSP.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: CredSSP, Kerberos
- type: <xref href="VMMigrationPerformance" data-throw-if-not-resolved="False" />
  name: VirtualMachineMigrationPerformanceOption
  description: |+
    Specifies the performance option to use for live migration.
    The acceptable values for this parameter are:

    - Compression.
    Compress data to speed up live migration on constrained networks. 
    - SMBTransport.
    Use server message block (SMB) to get the highest throughput possible. 
    - None.
    Perform standard live migration.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: TCPIP, Compression, SMB
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: VirtualMachinePath
  description: |+
    Specifies the default folder to store virtual machine configuration files on the Hyper-V host. This is a functional setting, meaning that if you do not supply a path to VM creation tools (for example `New-VM`), Hyper-V will use this path. Hyper-V will create at least one subfolder in this path, called "Virtual Machines".

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: Hyper-V.Set-VMHost
name: Set-VMHost
description: |-
  The **Set-VMHost** cmdlet configures a Hyper-V host.
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: Microsoft.HyperV.PowerShell.Cmdlets.dll-Help.xml
  Module Name: Hyper-V
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/hyper-v/set-vmhost?view=windowsserver2022-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Set-VMHost
