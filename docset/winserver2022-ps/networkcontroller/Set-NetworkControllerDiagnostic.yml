### YamlMime:PowershellCmdlet
summary: |-
  Changes diagnostic settings for the Network Controller.
module: NetworkController
notes: ""
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    This cmdlet returns an object that contains the following fields: 

    - Log scope
    - Diagnostic log location
    - Log aging size limit in MBs
    - Log aging time limit in days
    - Log level
links:
- text: Get-NetworkControllerDiagnostic
  href: ./Get-NetworkControllerDiagnostic.yml
syntaxes:
- >-
  Set-NetworkControllerDiagnostic [-LogScope <LogScope>] [-DiagnosticLogLocation <String>]

   [-LogLocationCredential <PSCredential>] [-UseLocalLogLocation] [-LogTimeLimitInDays <UInt32>]

   [-LogSizeLimitInMBs <UInt32>] [-LogLevel <LogLevel>] [-PassThru] [-ComputerName <String>] [-UseSsl]

   [-Credential <PSCredential>] [-CertificateThumbprint <String>] [-WhatIf] [-Confirm] [<CommonParameters>]
examples:
- title: 'Example 1: Modify diagnostic settings'
  code: |-
    PS C:\> Set-NetworkControllerDiagnostic -LogScope All -UseLocalLogLocation -PassThru
    LogScope               : All
    DiagnosticLogLocation  :
  description: |-
    This command changes the location for diagnostic logs to be the Network Controller nodes.
    The command also starts logging both cluster and application logs.
  summary: ""
parameters:
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: CertificateThumbprint
  description: |+
    Specifies the digital public key X.509 certificate of a user account that has permission to perform this action.
    Specify the certificate thumbprint of the certificate.
    Specify this parameter only if you run this cmdlet on a computer that is not part of the Network Controller cluster.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ComputerName
  description: |+
    Specifies the name of the Network Controller node on which this cmdlet operates.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="PSCredential" data-throw-if-not-resolved="False" />
  name: Credential
  description: |+
    Specifies a user credential that has permission to perform this action.
    The default is the current user.
    Specify this parameter only if you run this cmdlet on a computer that is not part of the Network Controller cluster.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: DiagnosticLogLocation
  description: |+
    Specifies a central remote location for the logs.

    If you do not specify a value for this parameter, the logs are stored locally on each node.
    Application logs are stored locally in the %systemdrive%\Windows\tracing\SDNDiagnostics folder.
    Cluster logs are stored locally in %systemdrive%\ProgramData\Microsoft\Service Fabric\log\Traces folder.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="LogLevel" data-throw-if-not-resolved="False" />
  name: LogLevel
  description: |+
    Specifies the level of the log.The acceptable values for this parameter are:

    - Error
    - Warning
    - Informational
    - Verbose

    The default value is Verbose.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: Error, Warning, Informational, Verbose
- type: <xref href="PSCredential" data-throw-if-not-resolved="False" />
  name: LogLocationCredential
  description: |+
    Specifies the credentials required to access the log location.
    Specify this parameter only if the log location restricts access.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="LogScope" data-throw-if-not-resolved="False" />
  name: LogScope
  description: |+
    Specifies whether Network Controller collects cluster logs or collects all logs.
    All logs include cluster and application logs.
    The acceptable values for this parameter are: Cluster and All.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: Cluster, All
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: LogSizeLimitInMBs
  description: |+
    Specifies the maximum log size, in MB, to store.
    Logs are stored in a circular fashion.
    . If the *DiagnosticLogLocation* parameter is provided, the default value of this parameter is 40 GB.
    If DiagnosticLogLocation is not provided, the logs are stored on the Network Controller nodes and the default value of this parameter is 15 GB.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: LogTimeLimitInDays
  description: |+
    Specifies the duration, in days, that logs are stored.
    Logs are stored in a circular fashion.
    The default value of this parameter is 3 days.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: PassThru
  description: |+
    Returns an object representing the item with which you are working.
    By default, this cmdlet does not generate any output.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: UseLocalLogLocation
  description: |+
    Indicates that this cmdlet collects all diagnostic logs locally on each node in the Network Controller cluster.
    To collect logs centrally in a remote location, specify the *DiagnosticLogLocation* parameter.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: UseSsl
  description: |+
    Indicates that the remote computer uses the Secure Sockets Layer (SSL) protocol to establish a connection to the Network Controller node.
    The default value of this parameter is $False.
    Specify this parameter only if you run this cmdlet on a computer that is not part of the Network Controller cluster.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: NetworkController.Set-NetworkControllerDiagnostic
name: Set-NetworkControllerDiagnostic
description: |-
  The **Set-NetworkControllerDiagnostic** cmdlet changes diagnostic settings for the Network Controller.
  You can specify whether to collect logs locally on the nodes, or in a single central remote location.
  You can specify the central location and credentials to access that location.
  You can specify whether to collect all logs or only cluster logs.
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: Microsoft.NetworkController.Powershell.dll-Help.xml
  Module Name: NetworkController
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/networkcontroller/set-networkcontrollerdiagnostic?view=windowsserver2022-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Set-NetworkControllerDiagnostic
