### YamlMime:PowershellCmdlet
summary: |-
  Modifies the properties of the SMB share.
module: SmbShare
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="Microsoft.Management.Infrastructure.CimInstance#ROOT/Microsoft/Windows/SMB/MSFT_SmbShare" data-throw-if-not-resolved="False" />
  description: |-
    This cmdlet returns a **MSFT_SmbShare** object that represents the modified share.
links:
- text: Get-SmbShare
  href: ./Get-SmbShare.yml
- text: New-SmbShare
  href: ./New-SmbShare.yml
- text: Remove-SmbShare
  href: ./Remove-SmbShare.yml
syntaxes:
- >-
  Set-SmbShare [-Name] <String[]> [[-ScopeName] <String[]>] [-SmbInstance <SmbInstance>] [-Description <String>]

   [-ConcurrentUserLimit <UInt32>] [-CATimeout <UInt32>] [-ContinuouslyAvailable <Boolean>]

   [-FolderEnumerationMode <FolderEnumerationMode>] [-CachingMode <CachingMode>] [-SecurityDescriptor <String>]

   [-EncryptData <Boolean>] [-Force] [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob] [-PassThru]

   [-WhatIf] [-Confirm] [<CommonParameters>]
- >-
  Set-SmbShare -InputObject <CimInstance[]> [-Description <String>] [-ConcurrentUserLimit <UInt32>]

   [-CATimeout <UInt32>] [-ContinuouslyAvailable <Boolean>] [-FolderEnumerationMode <FolderEnumerationMode>]

   [-CachingMode <CachingMode>] [-SecurityDescriptor <String>] [-EncryptData <Boolean>] [-Force]

   [-CimSession <CimSession[]>] [-ThrottleLimit <Int32>] [-AsJob] [-PassThru] [-WhatIf] [-Confirm]

   [<CommonParameters>]
examples:
- title: 'Example 1: Modify properties of an SMB share'
  code: |-
    PS C:\>Set-SmbShare -Name "VMFiles" -EncryptData $True
    Confirm 
    Are you sure you want to perform this action? 
    Performing operation 'Modify' on Target 'Contoso-SO,VMFiles'. 
    [Y] Yes  [A] Yes to All  [N] No  [L] No to All  [S] Suspend  [?] Help (default is "Y"):
  description: |-
    This command modifies the properties of an SMB share.
  summary: ""
- title: 'Example 2: Modify properties of an SMB share without confirmation'
  code: |-
    PS C:\>Set-SmbShare -Name "VMFiles" -EncryptData $True -Force
  description: |-
    This command modifies the properties of an SMB share without user confirmation.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: AsJob
  description: |+
    Runs the cmdlet as a background job. Use this parameter to run commands that take a long time to complete.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CachingMode" data-throw-if-not-resolved="False" />
  name: CachingMode
  description: |+
    Specifies the caching mode of the offline files for the SMB share.
    There are five caching modes:

    - None.
    Prevents users from storing documents and programs offline.
    - Manual.
    Allows users to identify the documents and programs that they want to store offline.
    - Programs.
    Automatically stores documents and programs offline.
    - Documents.
    Automatically stores documents offline.
    - BranchCache.
    Enables BranchCache and manual caching of documents on the shared folder.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: None, Manual, Documents, Programs, BranchCache, Unknown
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: CATimeout
  description: |+
    Specifies the continuous availability time-out of the SMB share.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimSession" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: CimSession
  description: |+
    Runs the cmdlet in a remote session or on a remote computer.
    Enter a computer name or a session object, such as the output of a [New-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227967) or [Get-CimSession](https://go.microsoft.com/fwlink/p/?LinkId=227966) cmdlet.
    The default is the current session on the local computer.

  defaultValue: None
  position: Named
  aliases: Session
  parameterValueGroup: ""
- type: <xref href="UInt32" data-throw-if-not-resolved="False" />
  name: ConcurrentUserLimit
  description: |+
    Specifies the maximum number of concurrently connected users that the SMB share may accommodate.
    If this parameter is set to zero (0), then the number of users is unlimited.
    By default, new SMB shares have no limit on the number of concurrent connections.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: "False"
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: ContinuouslyAvailable
  description: |+
    Indicates whether the share is continuously available.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Description
  description: |+
    Specifies an optional description of the SMB share.
    A description of the share can be displayed by running the Get-SmbShare cmdlet.
    Specify an empty string to clear the current description.
    The description may not contain more than 256 characters.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: EncryptData
  description: |+
    Indicates whether the SMB share is encrypted.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="FolderEnumerationMode" data-throw-if-not-resolved="False" />
  name: FolderEnumerationMode
  description: |+
    Specifies which files and folders in the new SMB share will be visible to the users.
    The acceptable values for this parameter are:

    - AccessBased.
    SMB does not the display the files and folders for a share to a user unless that user has rights to access the files and folders.
    By default, access-based enumeration is disabled for new SMB shares.
    - Unrestricted.
    SMB displays files and folders to a user even when the user does not have permission to access those items. 

    The default value is Unrestricted.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: AccessBased, Unrestricted
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Forces the command to run without asking for user confirmation.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="CimInstance" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: InputObject
  isRequired: true
  description: |+
    Specifies the input object that is used in a pipeline command.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: LeasingMode
  description: |+
    Allow admins to stop leases and oplocks.

    - Full = default SMB3
    - Shared = grant read-caching lease but not write or handle-caching
    - None = no oplocks or leases, like modified SMB1/3

    > [!IMPORTANT]
    > We do not recommend disabling oplocks, but may be required in some scenarios. For more information, see [SMB1 Product Clearinghouse](https://techcommunity.microsoft.com/t5/Storage-at-Microsoft/SMB1-Product-Clearinghouse/ba-p/426008).

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: Name
  isRequired: true
  description: |+
    Specifies the name of one or more SMB shares.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: PassThru
  description: |+
    Returns an object representing the item with which you are working.
    By default, this cmdlet does not generate any output.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" /><span>[</span><span>]</span>
  name: ScopeName
  description: |+
    Specifies the scope name of the SMB share.

  defaultValue: None
  pipelineInput: true
  position: "2"
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: SecurityDescriptor
  description: |+
    Specifies the security descriptor for the SMB share in string format.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SmbInstance" data-throw-if-not-resolved="False" />
  name: SmbInstance
  description: |+
    Specifies the input to this cmdlet.
    You can use this parameter, or you can pipe the input to this cmdlet.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  parameterValueGroup: Default, CSV, SBL, SR
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: ThrottleLimit
  description: |+
    Specifies the maximum number of concurrent operations that can be established to run the cmdlet.
    If this parameter is omitted or a value of `0` is entered, then Windows PowerShellÂ® calculates an optimum throttle limit for the cmdlet based on the number of CIM cmdlets that are running on the computer.
    The throttle limit applies only to the current cmdlet, not to the session or to the computer.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: "False"
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: SmbShare.Set-SmbShare
name: Set-SmbShare
description: |-
  The **Set-SmbShare** cmdlet modifies the properties of the Server Message Block (SMB) share.
metadata:
  description: Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell.
  external help file: SmbShare.cdxml-help.xml
  Module Name: SmbShare
  ms.date: 12/20/2016
  online version: https://docs.microsoft.com/powershell/module/smbshare/set-smbshare?view=windowsserver2022-ps&wt.mc_id=ps-gethelp
  schema: 2.0.0
  title: Set-SmbShare
